<h2 class="page-header"><strong class="aquaColor">ADD Issue for project
    <a href="#/projects/{{projectId}}"> with Id: {{projectId}}</a></strong>
</h2>

<div class="row logreg">
    <div class="col-md-4 col-md-offset-4">
        <form name="addIssueForm">
            <label for="addIssueTitle">Title</label>
            <input type="text"
                   id="addIssueTitle"
                   class="form-control"
                   required="required"
                   placeholder="Title"
                   ng-model="issue.Title" />

            <label for="addIssueDescription">Description</label>
            <textarea rows="5"
                      id="addIssueDescription"
                      class="form-control"
                      required="required"
                      placeholder="Description"
                      ng-model="issue.Description"></textarea>

            <label for="addIssueDate">Due Date</label>
            <input type="date"
                   id="addIssueDate"
                   class="form-control"
                   required="required"
                   placeholder="mm/dd/yyyy"
                   ng-model="issue.DueDate" />

            <div>
                <label for="priorityId">Priority: </label>
                <div>
                    <select id="priorityId"
                            required="required"
                            ng-controller="ProjectDetailController"
                            ng-model="issue.PriorityId">
                        <option value="{{priority.Id}}" ng-repeat="priority in priorities | orderBy:'Name'">{{priority.Name}}</option>
                    </select>
                </div>
            </div>

            <div  class="searchBox" ng-controller="CommonController">
                <label for="searchName"> Get name of user from Assignee input </label><br/>
                <input type="text"
                       ng-model="val"
                       id="searchName"
                       placeholder="Name of user" />
                <button class="btn btn-info"
                        ng-click="getAllUsers(val)"> Search by name</button>

                <label for="addAssigneeId"> Assignee: </label>
                <div>
                    <select ng-model="issue.AssigneeId" required="required" id="addAssigneeId" >
                        <option ng-repeat="user in allUsers | orderBy:'Username'" value="{{user.Id}}">{{user.Username}}</option>
                    </select>
                </div>
            </div>

            <div>
                <label for="addLabel"></label>
                <div>
                    <input name="namesInput"
                           id="addLabel"
                           required="required"
                           ng-model="issue.Labels"
                           ng-list />
                </div>
            </div>

            <button type="submit"
                    class="btn btn-primary"
                    ng-disabled="addIssueForm.$invalid"
                    ng-click="addIssue(issue)">Add Issue</button>
        </form>
    </div>
</div>